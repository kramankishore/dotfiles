"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[521],{61382:(e,t,n)=>{n.r(t),n.d(t,{SquadNotificationsModal:()=>_,default:()=>y});var o=n(51911),s=n(53767),i=n(29901),d=n(48706),u=n(97518),a=n(19448),r=n(45462),c=n(2469),l=n(73283),m=n(43573),f=n(24283),w=n(42819),p=["onRequestClose","squad"],h=i.createElement;function _(e){var t=e.onRequestClose,n=e.squad,_=(0,s.Z)(e,p),y=(0,a.H)({params:[{referenceId:null==n?void 0:n.id,notificationType:l.k$.SquadPostAdded},{referenceId:null==n?void 0:n.id,notificationType:l.k$.SquadMemberJoined}],squad:n}),N=y.preferences,b=y.isPreferencesReady,k=y.muteNotification,P=y.clearNotificationPreference,q=y.showSourceFeedPosts,v=y.hideSourceFeedPosts,S=(0,d.NL)(),g=(0,f.Eu)().user,M=S.getQueryData((0,m.e0)(m.dt.Squad,g,null==n?void 0:n.handle)),$=(0,i.useMemo)((function(){var e,t;return{hideFeedPosts:null==M||null===(e=M.currentMember)||void 0===e||null===(t=e.flags)||void 0===t?void 0:t.hideFeedPosts,mutedNewPosts:null==N?void 0:N.some((function(e){return(0,a.$)(e,l.k$.SquadPostAdded,null==n?void 0:n.id,[w.QP.Muted])})),mutedNewMembers:null==N?void 0:N.some((function(e){return(0,a.$)(e,l.k$.SquadMemberJoined,null==n?void 0:n.id,[w.QP.Muted])}))}}),[N,n,M]),x=$.hideFeedPosts,F=$.mutedNewPosts,I=$.mutedNewMembers;return b?h(u.u_,(0,o.Z)({},_,{isOpen:!0,onRequestClose:t,kind:u.u_.Kind.FlexibleCenter,size:u.u_.Size.Small}),h(u.u_.Header,{title:"Notifications"}),h(u.u_.Body,{className:"gap-3"},h(c.r,{"data-testid":"show_new_posts-switch",inputId:"show_new_posts-switch",name:"show_new_posts",className:"w-20",compact:!1,checked:!x,onToggle:x?q:v},"Show new posts on my feed"),h(c.r,{"data-testid":"notify_new_posts-switch",inputId:"notify_new_posts-switch",name:"notify_new_posts",className:"w-20",compact:!1,checked:!F,onToggle:function(){return(F?P:k)({type:l.k$.SquadPostAdded,referenceId:n.id})}},"Notify me about new posts"),n.currentMember.role===r.Pt.Admin&&h(c.r,{"data-testid":"notify_new_members-switch",inputId:"notify_new_members-switch",name:"notify_new_members",className:"w-20",compact:!1,checked:!I,onToggle:function(){return(I?P:k)({type:l.k$.SquadMemberJoined,referenceId:n.id})}},"Notify me about new members"),h("p",{className:"text-text-tertiary typo-callout"},"For more options, go to your",h("a",{className:"ml-1 text-text-link underline hover:no-underline",href:"/account/notifications"},"notifications settings")))):null}const y=_}}]);