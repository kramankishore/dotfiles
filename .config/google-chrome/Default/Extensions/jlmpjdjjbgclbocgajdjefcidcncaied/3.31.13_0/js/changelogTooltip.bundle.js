"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[620],{14343:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=n(93309),r=n(62699),o=n.n(r),s=n(29901),i=n(59266),l=n(86825),c=n(6189),d=n(57767),u=n(56567),p=n(73503),m=n(53782),f=n(68395),g=n(5704),h=n(75160),v=(n(32575),n(32814)),x=n(3330),b=n(87779),y=n(88467),C=n(52210),w=n(52438),E=n(16309),k=n(34715),S=n(34951),N=s.createElement,P={error:"Something went wrong, try again later",throttled:"There is no extension update available, try again later",no_update:"Your extension is already the latest and greatest. You're awesome ðŸŽ‰",update_available:"Browser extension updated ðŸŽ‰"};const Z=function(){var e,t,r=(0,y.Uv)(),s=(0,f.o)(),Z=s.latestPost,z=s.dismiss,R=s.toggleUpvote,U=(0,h.sW)(),L=(0,i.D)((0,a.Z)(o().mark((function e(){var t,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(r){e.next=4;break}throw new Error("updateExtension can only be used inside the extension runtime");case 4:return e.next=6,Promise.resolve().then(n.t.bind(n,31729,23)).then((function(e){return e.default}));case 6:return t=e.sent,e.next=9,t.runtime.sendMessage({type:g.j.RequestUpdate});case 9:a=e.sent,(s=P[a.status])&&U.displayToast(s);case 12:case"end":return e.stop()}}),e)}))),{onError:function(){U.displayToast(P.error)}}),B=L.mutateAsync,M=L.isLoading,O=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return e.next=4,z();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({payload:Z,origin:E.aP.ChangelogPopup});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!!Z&&N(w.Z,{position:w.p.LeftEnd,className:"ml-6 w-[24rem] max-w-[360px] border border-accent-cabbage-default bg-accent-pepper-subtlest shadow-2 focus:outline-none","data-testid":"changelog",onClose:z,closeButton:{variant:l.Wu.Tertiary}},N("header",{className:"flex flex-1 items-center border-b border-border-subtlest-tertiary px-4 py-3"},N("h3",{className:"font-bold text-text-primary typo-title3","data-testid":"changelogNewReleaseTag"},"New release")),N("section",{className:"flex h-full max-h-full flex-1 shrink flex-col p-5"},N(m.E,{className:"h-[108px] w-[207px] rounded-8 object-cover",alt:"Post cover image",src:Z.image,fallbackSrc:u.n.post.imageCoverPlaceholder,loading:"lazy","data-testid":"changelogImage"}),N("h3",{className:"mt-3 font-normal text-text-primary typo-title3","data-testid":"changelogTitle"},Z.title),N(S.t,{"data-testid":"changelogDate",date:Z.createdAt,type:p.lf.Post,className:"text-text-quaternary typo-callout"}),!!Z.summary&&N("div",{className:"w mt-2 text-text-tertiary typo-callout","data-testid":"changelogSummary"},Z.summary),N("div",{className:"mt-4 flex"},N(k.s,{id:"post-".concat(Z.id,"-upvote-btn"),icon:N(v.o,{secondary:(null==Z||null===(e=Z.userState)||void 0===e?void 0:e.vote)===C.hn.Up}),pressed:(null==Z||null===(t=Z.userState)||void 0===t?void 0:t.vote)===C.hn.Up,onClick:q,size:l.qE.Small,className:"btn-tertiary-avocado","data-testid":"changelogUpvotesButton"},N(b.Z,{value:Z.numUpvotes>0&&Z.numUpvotes,"data-testid":"changelogUpvotesCounter"})),N(k.s,{id:"post-".concat(Z.id,"-comment-btn"),icon:N(x.l,{secondary:Z.commented}),pressed:Z.commented,tag:"a",href:Z.commentsPermalink,onClick:z,size:l.qE.Small,className:"btn-tertiary-blueCheese","data-testid":"changelogCommentsButton"},N(b.Z,{value:Z.numComments>0&&Z.numComments,"data-testid":"changelogCommentsCounter"})))),N("footer",{className:"flex h-16 w-full items-center justify-between border-t border-border-subtlest-tertiary p-3"},N(c.zx,{onClick:z,tag:"a",href:Z.commentsPermalink,"data-testid":"changelogReleaseNotesBtn",variant:l.Wu.Tertiary},"Release notes"),r&&N(c.zx,{tag:void 0,href:void 0,"data-testid":"changelogExtensionBtn",loading:M,onClick:O,variant:l.Wu.Primary,color:d.S.Cabbage},"Update extension")))}},52438:(e,t,n)=>{n.d(t,{Z:()=>z,p:()=>a});var a,r=n(51911),o=n(53767),s=n(83849),i=n.n(s),l=n(29901),c=n(78756),d=n(64341),u=n(81303),p=n(10220),m=n(38429),f=n(86825),g=n(6189),h=n(66122),v=n(74563),x=n(96628),b=["children","className","position","closeOutsideClick","onClose","closeButton","isDrawerOnMobile","drawerProps"],y=l.createElement;!function(e){e.Center="center",e.CenterStart="centerStart",e.CenterEnd="centerEnd",e.RightStart="rightStart",e.RightCenter="rightCenter",e.RightEnd="rightEnd",e.LeftStart="leftStart",e.LeftCenter="leftCenter",e.LeftEnd="leftEnd",e.ProfileMenu="profileMenu",e.Screen="screen"}(a||(a={}));var C="left-1/2 -translate-x-1/2",w="top-1/2 -translate-y-1/2",E="top-16",k="bottom-8",S="right-8",N="left-64",P={center:i()(C,w),centerStart:i()(C,E),centerEnd:i()(C,k),rightStart:i()(S,E),rightCenter:i()(S,w),rightEnd:i()(S,k),leftStart:i()(N,E),leftCenter:i()(N,w),leftEnd:i()(N,k),profileMenu:i()("right-4",E),screen:"inset-0 w-screen h-screen"},Z=[a.LeftEnd,a.LeftCenter,a.LeftEnd];const z=function(e){var t=e.children,n=e.className,s=e.position,C=void 0===s?a.Center:s,w=e.closeOutsideClick,E=e.onClose,k=e.closeButton,S=void 0===k?{}:k,N=e.isDrawerOnMobile,z=e.drawerProps,R=(0,o.Z)(e,b),U=S.size,L=void 0===U?f.qE.Small:U,B=S.variant,M=void 0===B?f.Wu.Secondary:B,O=S.position,q=void 0===O?"right-2 top-2":O,T=(0,x.V)(x.d.MobileL),W=(0,l.useRef)(),D=(0,l.useRef)(E),j=(0,u.Z)().sidebarRendered||C===a.Screen,A=C===a.Center||!j,K=w||A,Y=(0,d.K$)().sidebarExpanded,_=j?C:a.Center,I=P[_];return(0,h.O)(W,D.current,K),N&&T?y(v.d,(0,r.Z)({},z,{isOpen:!0,onClose:D.current,closeOnOutsideClick:K}),t):y(c.K,null,y(p.Z,{condition:A,wrapper:function(e){return y("div",{className:"fixed inset-0 z-modal flex flex-col items-center bg-overlay-quaternary-onion"},e)}},y("div",(0,r.Z)({ref:W,className:i()("fixed z-popup overflow-hidden rounded-16 bg-background-default shadow-2",n,I,!j&&"shadow-2",Z.includes(_)&&!Y&&"laptop:left-16")},R),_!==a.ProfileMenu&&E&&y(g.zx,{size:L,variant:M,className:i()("absolute z-1",q),icon:y(m.q,null),onClick:function(e){return E(e.nativeEvent)},"data-testid":"close-interactive-popup"}),t)))}}}]);