"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[900],{36863:(e,t,n)=>{n.d(t,{Z:()=>S});var o=n(93309),r=n(70468),a=n(62699),i=n.n(a),s=n(29901),l=n(37881),c=n(42279),u=n(72296),d=n(96237),m=n(80084),p=n(67659),f=n(61991),v=n(8102),h=n(29097),b=n(16309),g=n(61289),x=n(51287),y=n(10489),k=n(74116),N=n(86825),w=n(59732),P=n(8161),C=s.createElement;function S(e){var t=e.post,n=t.commentsPermalink,a=P.A.SharePost,S=(0,w.r)().getShortUrl,Z=(0,m._)(),E=(0,r.Z)(Z,2),O=E[0],L=E[1],z=(0,s.useContext)(f.ZP).trackEvent,I=(0,x.e)().openModal,R=function(e){return z((0,v.gR)("share post",t,{extra:{provider:e,origin:b.aP.ShareBar}}))},A=function(){var e=(0,o.Z)(i().mark((function e(o){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(o),e.next=3,S(n,a);case 3:r=e.sent,s=(0,p.J9)({provider:o,link:r,text:null==t?void 0:t.title}),window.open(s,"_blank");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n,a);case 2:t=e.sent,L({link:t}),R(p.YE.CopyLink);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C(h.Hl,{className:"hidden flex-col p-3 laptop:flex"},C("p",{className:"mb-4 text-text-tertiary typo-callout"},"Would you recommend this post?"),C("div",{className:"grid grid-cols-4 gap-2 gap-y-4"},C(y.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,onClick:T,pressed:O,icon:C(l.T,{className:O&&"text-accent-avocado-default",secondary:O}),label:O?"Copied!":"Copy link"}),C(y.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,icon:C(c.u,{secondary:!0}),className:"text-white",onClick:function(){return A(p.YE.WhatsApp)},label:"WhatsApp"}),C(y.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,icon:C(u.V,{secondary:!0}),onClick:function(){return A(p.YE.Facebook)},label:"Facebook"}),C(y.Q,{size:N.qE.Medium,variant:N.Wu.Tertiary,icon:C(d.Z,null),onClick:function(){return A(p.YE.Twitter)},label:"X"}),C(k.P,{size:N.qE.Medium,squadAvatarSize:"large",onClick:function(e,n){return function(e){z((0,v.gR)(b.s6.StartShareToSquad,t)),I({type:g.nT.CreateSharedPost,props:{squad:e,preview:t,onSharedSuccessfully:function(){return z((0,v.gR)(b.s6.ShareToSquad,t))}}})}(n)}})))}},75733:(e,t,n)=>{n.d(t,{I:()=>b});var o=n(70468),r=n(29901),a=n(96883),i=n(47031),s=n(80084),l=n(6189),c=n(86825),u=n(57767),d=n(29097),m=n(8102),p=n(16309),f=n(61991),v=n(20553),h=r.createElement;function b(e){var t=e.onCopyPostLink,n=e.post,r=e.link,b=e.origin,g=(0,s._)(r),x=(0,o.Z)(g,1)[0],y=(0,v.h)(b).openSharePost,k=(0,f.Os)().trackEvent;return h(d.Hl,{className:"flex flex-col items-start gap-2 p-3 laptop:hidden"},h(l.zx,{size:c.qE.Small,onClick:t,pressed:x,icon:h(a.x,null),variant:c.Wu.Tertiary,color:u.S.Avocado},x?"Copied!":"Copy link"),h(l.zx,{size:c.qE.Small,onClick:function(){k((0,m.gR)(p.s6.StartShareToSquad,n)),y({post:n})},icon:h(i.a,null),variant:c.Wu.Tertiary,color:u.S.Cabbage},"Share with your friends"))}},92828:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(51911),r=n(53767),a=n(29901),i=n(43643),s=n(41922),l=a.createElement;function c(e){var t,n=e.content,o=e.charactersLimit,r=void 0===o?150:o,i=e.threshold,c=void 0===i?50:i,u=e.contentPrefix,d=e.className,m=(0,a.useState)(!1),p=m[0],f=m[1],v=p?"Show less":"Show more",h=function(){return n&&(null==n?void 0:n.length)>r+c};return l("div",{className:d},l("p",{className:"select-text break-words typo-body"},u,p||!h()?n:(t=null==n?void 0:n.slice(0,r)).slice(0,Math.min(t.length,t.lastIndexOf(" ")))," ",h()&&l(s.D,{className:"inline-flex !text-text-link",onClick:function(){return f(!p)}},v)))}var u=["summary"],d=a.createElement;function m(e,t){var n=e.summary,a=(0,r.Z)(e,u);return d(i.FT,(0,o.Z)({ref:t},a),d(c,{content:n,charactersLimit:330,threshold:50,contentPrefix:d(i.Ni,null,"TLDR")}))}const p=(0,a.forwardRef)(m)},21981:(e,t,n)=>{n.d(t,{Z:()=>E});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),s=n.n(i),l=n(97518);const c="_29h7Y86KWZAFwDQZdpKlfQ==";var u=n(22057),d=n(29097),m=a.createElement,p=function(){return m("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},m(u.f,{className:"w-7 h-7 rounded-full mt-1"}),m("div",{className:"flex flex-col ml-3 mr-2 flex-1"},m(d.P5,{className:"w-4/5"}),m(d.P5,{className:"w-4/5"}),m(d.P5,{className:"w-2/5"})))},f=n(43643),v=a.createElement,h=function(e){var t=e.padding,n=void 0===t?"py-3 px-4":t,o=e.textClassName;return v("article",{"aria-busy":!0,className:s()("relative flex flex-col items-start",n)},v(d.P5,{className:s()("w-4/5",o)}),v(d.P5,{className:s()("w-4/5",o)}),v(d.P5,{className:s()("w-2/5",o)}))},b=n(44054),g=n(99269),x=a.createElement,y=(0,g.Z)("div","flex flex-col flex-1 p-8"),k=function(e){var t=e.children;return x(d.Hl,null,x(d.P5,{className:"my-4 ml-6 w-2/5"}),x(d.Gd,null),t,x(d.Gd,null),x(d.P5,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},N=function(e){var t=e.shouldShowWidgets,n=void 0===t||t,o=e.className;return x(a.Fragment,null,x(y,{className:o},x(u.f,{className:"my-2 mb-8 h-8 w-3/5 rounded-10"}),x(h,{padding:"p-0 gap-2",textClassName:"h-4"}),x("div",{className:"my-8 flex flex-row gap-2"},x(u.f,{className:"h-6 w-20 rounded-10"}),x(u.f,{className:"h-6 w-20 rounded-10"})),x(u.f,{className:"h-52 w-4/5 rounded-16"}),x(u.f,{className:"my-8 h-8 w-2/5 rounded-10"}),x(d.Gd,null),x(b.Z,null)),n&&x(f.ry,{className:"flex-1 p-8"},x(d.P5,null),x(k,null,x(p,null),x(p,null),x(p,null)),x(k,null,x(h,null),x(h,null),x(h,null))))},w=n(85301),P=a.createElement;const C=function(e){var t=e.type,n=e.className,o=e.hasNavigation;return t?P(w.Z,{hasNavigation:o,className:s()(n,"laptop:flex-row laptop:pb-0")},P(N,{className:"tablet:border-r tablet:border-border-subtlest-tertiary"})):null};var S=["className","children","isLoading","postType","source","loadingClassName"],Z=a.createElement;const E=function(e){var t=e.className,n=e.children,a=e.isLoading,i=e.postType,u=(e.source,e.loadingClassName),d=(0,r.Z)(e,S);return Z(l.u_,(0,o.Z)({size:l.u_.Size.XLarge,kind:l.u_.Kind.FlexibleTop,portalClassName:c,id:"post-modal"},d,{overlayClassName:"post-modal-overlay bg-overlay-quaternary-onion",className:s()(t,"laptop: mx-auto !bg-background-default focus:outline-none tablet:h-full laptop:h-auto laptop:overflow-hidden")}),a?Z(C,{hasNavigation:!0,type:i,className:u}):n)}},45952:(e,t,n)=>{n.d(t,{F:()=>Be,D:()=>We});var o=n(51911),r=n(1726),a=n.n(r),i=n(29901),s=n(83849),l=n.n(s),c=n(62027),u=n(70468),d=n(24283),m=n(29595),p=n(60076),f=n(68071),v=n(53767),h=n(2832),b=n(77144),g=n(6189),x=n(86825),y=n(53782),k=n(96206),N=n(61991),w=n(8102),P=n(16309),C=n(52210),S=n(34496),Z=["className","size","onCommented","post"],E=["comment"],O=i.createElement,L={large:x.qE.Medium,medium:x.qE.Small};function z(e,t){var n=e.className,r=e.size,a=void 0===r?"large":r,s=e.onCommented,c=e.post,u=(0,v.Z)(e,Z),m=(0,h.useRouter)(),p=(0,N.Os)().trackEvent,z=(0,d.Eu)(),I=z.user,R=z.showLogin,A=(0,i.useState)(void 0),T=A[0],F=A[1],q=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p((0,w.gR)(P.s6.OpenComment,c,{extra:{origin:e}})),F(t)}),[c,p,F]),D="string"==typeof m.query.comment;(0,i.useEffect)((function(){if(D&&c.type===C.hQ.Welcome){var e=m.query,t=e.comment,n=(0,v.Z)(e,E);q(P.aP.SquadChecklist,t),m.replace({pathname:m.pathname,query:n},void 0,{shallow:!0})}}),[c,D,q,m]);var j=function(e){return I?q(e):R({trigger:f.IP.NewComment})};if((0,i.useImperativeHandle)(t,(function(){return{onShowInput:j}})),void 0!==T)return O(S.Z,(0,o.Z)({},u,{post:c,className:{input:{container:"my-4",tab:null==n?void 0:n.tab}},onCommented:function(e,t){F(void 0),null==s||s(e,t)},initialContent:T,onClose:function(){return F(void 0)}}));var M="hidden tablet:flex";return O("button",{type:"button",className:l()("flex w-full items-center gap-4 rounded-16 border-t border-border-subtlest-tertiary bg-blur-highlight p-3 typo-callout hover:border-border-subtlest-primary hover:bg-theme-hover tablet:border tablet:bg-theme-float",null==n?void 0:n.container),onClick:function(){return j(P.aP.StartDiscussion)}},I?O(b.YY,{user:I,size:a,nativeLazyLoading:!0,className:M}):O(y.E,{src:k.Zm.avatar,alt:"Placeholder image for anonymous user",className:l()(M,(0,b.o7)("large"))}),O("span",{className:"text-text-tertiary"},"Share your thoughts"),O(g.zx,{size:L[a],className:"ml-auto hidden text-text-primary tablet:flex",variant:x.Wu.Secondary,tag:"a",disabled:!0},"Post"))}var I=(0,i.forwardRef)(z),R=n(93309),A=n(62699),T=n.n(A),F=n(48706),q=n(32814),D=n(61741),j=n(3330),M=n(69885),W=n(96883),B=n(47031),U=n(34715),_=n(96628),Q=n(52067),Y=n(96521),$=n(11056),H=n(10220),V=n(62657),K=n(53170),G=n(29064),J=n(86747),X=n(43573),ee=n(84376),te=n(20553),ne=n(85734),oe=n(57767),re=i.createElement;function ae(e){var t,n,o,r,a,s,c=e.onCopyLinkClick,u=e.post,d=e.actionsClassName,m=void 0===d?"hidden mobileL:flex":d,p=e.onComment,f=e.origin,v=void 0===f?P.aP.ArticlePage:f,h=(0,K.V)(u),b=h.data,g=h.onShowPanel,y=h.onClose,k=b.showTagsPanel,N=(0,i.useContext)(G._),w=N.queryKey,S=N.items,Z=(0,F.NL)(),E=(0,te.h)(v).openNativeShareOrPopup,O=(0,_.V)(_.d.MobileL),L=(0,Q.F)({feature:ne.z.shareExperience,shouldEvaluate:O}),z=(0,Y.U)({variables:{feedName:w},onMutate:w?function(e){var t=e.id,n=e.vote,o=(0,X.i4)(w,Z);return(0,J.a)({id:t,vote:n,items:S,updatePost:o})}:void 0}),I=z.toggleUpvote,A=z.toggleDownvote,ae=(0,ee._v)({mutationKey:w,onMutate:w?function(e){var t=e.id,n=(0,X.i4)(w,Z);return(0,ee.AM)({id:t,items:S,updatePost:n})}:void 0}).toggleBookmark,ie=function(){var e=(0,R.Z)(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({post:u,origin:v});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,R.Z)(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null==u||null===(t=u.userState)||void 0===t?void 0:t.vote)===C.hn.None&&y(!0),e.next=3,I({payload:u,origin:v});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,R.Z)(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(t=u.userState)||void 0===t?void 0:t.vote)!==C.hn.Down?g():y(!0),e.next=3,A({payload:u,origin:v});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return re(H.Z,{condition:void 0!==k,wrapper:function(e){return re("div",{className:"flex flex-col"},e,re(V.U,{post:u,className:"mt-4",toastOnSuccess:!1}))}},re("div",{className:"flex items-center rounded-16 border border-border-subtlest-tertiary"},re($.Zb,{className:l()("flex !flex-row gap-2 hover:border-border-subtlest-tertiary",{"border-accent-avocado-default hover:!border-accent-avocado-default bg-theme-overlay-float-avocado":(null==u||null===(t=u.userState)||void 0===t?void 0:t.vote)===C.hn.Up,"border-accent-ketchup-default hover:!border-accent-ketchup-default bg-theme-overlay-float-ketchup":(null==u||null===(n=u.userState)||void 0===n?void 0:n.vote)===C.hn.Down})},re(U.s,{id:"upvote-post-btn",pressed:(null==u||null===(o=u.userState)||void 0===o?void 0:o.vote)===C.hn.Up,onClick:se,icon:re(q.o,{secondary:(null==u||null===(r=u.userState)||void 0===r?void 0:r.vote)===C.hn.Up}),"aria-label":"Upvote",responsiveLabelClass:m,variant:x.Wu.Tertiary,color:oe.S.Avocado}),re(U.s,{id:"downvote-post-btn",pressed:(null==u||null===(a=u.userState)||void 0===a?void 0:a.vote)===C.hn.Down,onClick:le,icon:re(D.I,{secondary:(null==u||null===(s=u.userState)||void 0===s?void 0:s.vote)===C.hn.Down}),"aria-label":"Downvote",responsiveLabelClass:m,variant:x.Wu.Tertiary,color:oe.S.Ketchup})),re("div",{className:"flex flex-1 items-center justify-between px-4 py-2"},re(U.s,{id:"comment-post-btn",pressed:u.commented,onClick:p,icon:re(j.l,{secondary:u.commented}),"aria-label":"Comment",responsiveLabelClass:m,className:"btn-tertiary-blueCheese"},"Comment"),re(U.s,{id:"bookmark-post-btn",pressed:u.bookmarked,onClick:ie,icon:re(M.p,{secondary:u.bookmarked}),"aria-label":"Bookmark",responsiveLabelClass:m,className:"btn-tertiary-bun"},"Bookmark"),re(U.s,{id:"copy-post-btn",onClick:function(){return c(u)},icon:re(W.x,null),responsiveLabelClass:m,className:l()("btn-tertiary-cabbage",L&&"hidden tablet:flex")},"Copy"),L&&re(U.s,{id:"share-post-btn",onClick:function(){return E({post:u})},icon:re(B.a,null),responsiveLabelClass:m,className:"btn-tertiary-cabbage flex tablet:hidden"}))))}var ie=n(28076),se=n(2067),le=n(3853),ce=n(94090),ue=n(44054),de=n(63496),me=n(32575),pe=n(75072),fe=n(43643),ve=n(88467),he=i.createElement;function be(e){var t,n,o,r=e.post,a=e.origin,s=e.onShare,l=e.onClickUpvote,c=e.modalParentSelector,u=e.permissionNotificationCommentId,m=e.joinNotificationCommentId,p=e.className,f=void 0===p?{}:p,v=e.onCommented,h=r.id,b=(0,i.useRef)(),g=(0,i.useContext)(d.ZP).tokenRefreshed,x=(0,de.Y)().requestMethod,y=(0,X.e0)(X.dt.PostComments,null,h),N=(0,se.a)(y,(function(){var e;return x(k.B3,le.nW,(e={postId:h},(0,ie.Z)(e,me.UK,w),(0,ie.Z)(e,"first",500),e),{requestKey:JSON.stringify(y)})}),{enabled:!!h&&g,refetchInterval:6e4,refetchOnWindowFocus:!1}),w=N.data,P=N.isLoading,C=((null===globalThis||void 0===globalThis||null===(t=globalThis.window)||void 0===t?void 0:t.location)||{}).hash,S=(null==w||null===(n=w.postComments)||void 0===n||null===(o=n.edges)||void 0===o?void 0:o.length)||0,Z=(0,i.useRef)(null),E=(0,pe.X)().deleteComment,O=(0,i.useState)(!!C),L=O[0],z=O[1];return(0,i.useEffect)((function(){S>0&&L&&Z.current&&(Z.current.scrollIntoView({block:"center",inline:"nearest"}),z(!1))}),[S,L]),0===S?he("div",{className:"mb-12 mt-8 text-center text-text-quaternary typo-subhead"},"Be the first to comment."):P||(0,ve.le)(w)?he(ue.Z,{placeholderAmount:r.numComments}):he("div",{className:"mb-12 mt-6 flex flex-col gap-4",ref:b},w.postComments.edges.map((function(e,t){var n,o;return he(ce.Z,{className:{commentBox:f},post:r,origin:a,commentHash:C,commentRef:Z,comment:e.node,key:e.node.id,onShare:s,onDelete:function(e,t){return E(e.id,t,r)},onShowUpvotes:l,postAuthorId:null===(n=r.author)||void 0===n?void 0:n.id,postScoutId:null===(o=r.scout)||void 0===o?void 0:o.id,appendTooltipTo:null!=c?c:function(){return null==b?void 0:b.current},permissionNotificationCommentId:u,joinNotificationCommentId:m,onCommented:v,lazy:!C&&t>=fe.ug})})))}var ge=n(41922),xe=n(29715),ye=i.createElement;function ke(e){var t=e.post,n=e.onUpvotesClick,o=t.numUpvotes||0,r=t.numComments||0;return o>0||r>0||t.views>0?ye("div",{className:"mb-5 flex items-center gap-x-4 text-text-tertiary typo-callout","data-testid":"statsBar"},t.views>0&&ye("span",null,(0,xe.r)(t.views)," Views"),o>0&&ye(ge.D,{onClick:function(){return n(o)}},(0,xe.r)(o)," Upvote",o>1?"s":""),r>0&&ye("span",null,(0,xe.r)(r)," Comment".concat(1===r?"":"s"))):ye(i.Fragment,null)}var Ne=n(64761),we=n(37272),Pe=n(35075),Ce=n(5453),Se=n(67659),Ze=n(59732),Ee=n(8161),Oe=i.createElement;function Le(e){var t=e.post,n=(0,Ce.i)(t),o=n.shouldShowOverlay,r=n.onInteract,a=(0,Ze.r)({query:{url:t.commentsPermalink,cid:Ee.A.SharePost,enabled:o}}),i=a.isLoading,s=a.shareLink;return!o||i?null:Oe("div",{className:"mt-6 flex flex-col items-center gap-2 rounded-16 border border-border-subtlest-tertiary px-4 py-2 laptop:flex-row laptop:gap-4"},Oe("span",{className:"font-bold text-text-tertiary typo-callout"},"Should anyone else see this post?"),Oe(Pe.J,{className:{container:"w-full flex-1"},link:s,onCopy:r,trackingProps:(0,w.gR)("share post",t,{extra:{provider:Se.YE.CopyLink,origin:P.aP.PostContent}})}))}var ze=n(86821),Ie=n(75943),Re=n(4714),Ae=i.createElement,Te=a()((function(){return n.e(313).then(n.bind(n,11351))}),{loadableGenerated:{webpack:function(){return[11351]}}});const Fe=function(e){var t=e.post,n=e.onCopyLinkClick,o=e.analyticsOrigin,r=e.shouldOnboardAuthor,a=["post",t.id],s=(0,i.useContext)(N.ZP).trackEvent,l=(0,i.useContext)(G._).trackingOpts,c=(0,d.Eu)(),v=c.user,h=c.showLogin,b=(0,i.useRef)(),y=(0,i.useState)(!1),k=y[0],C=y[1],S=(0,i.useState)(),Z=S[0],E=S[1],O=(0,i.useState)(),L=O[0],z=O[1],R=(0,p.g)().onShowUpvoted,A=(0,m._)(o).openShareComment,T=(0,we.Z)(Ne.D4,!1),F=(0,u.Z)(T,1)[0],q=(0,Q.F)({feature:ne.z.similarPosts,shouldEvaluate:!(null==t||!t.id)}).value,D=function(e,n){var o;n&&(E(e.id),!(0,Ne._N)(t.source)||null!==(o=t.source)&&void 0!==o&&o.currentMember||F||z(e.id))};return(0,i.useEffect)((function(){r&&C(!0)}),[r]),Ae(i.Fragment,null,Ae(ke,{post:t,onUpvotesClick:function(e){return R(t.id,e)}}),Ae(ae,{onCopyLinkClick:n,post:t,postQueryKey:a,onComment:function(){return b.current.onShowInput(P.aP.PostCommentButton)},actionsClassName:"hidden laptop:flex",origin:o}),Ae(Le,{post:t}),q&&Ae(g.zx,{tag:"a",onClick:function(){s((0,w.gR)(P.s6.ClickSimilarPosts,t,l))},href:"".concat(me.uJ,"posts/").concat(t.slug,"/similar"),size:x.qE.Large,className:"mt-6 border-border-subtlest-tertiary",variant:x.Wu.Option,icon:Ae(ze.K,{secondary:!0})},"Show similar posts ",Ae("div",{className:"flex-1"}),Ae(Ie.e0,{secondary:!0,className:"-mr-3 rotate-90",size:Re.Jh.Small})),Ae(I,{className:{container:"mt-6 hidden tablet:flex"},post:t,ref:b,onCommented:D}),Ae(be,{post:t,origin:o,onShare:function(e){return A(e,t)},onClickUpvote:function(e,t){return R(e,t,"comment")},permissionNotificationCommentId:Z,joinNotificationCommentId:L,onCommented:D}),k&&Ae(Te,{onSignUp:!v&&function(){return h({trigger:f.IP.Author})}}))};var qe=n(65054),De=n(32232),je=i.createElement,Me=a()((function(){return n.e(876).then(n.bind(n,32005))}),{loadableGenerated:{webpack:function(){return[32005]}}}),We=120;function Be(e){var t=e.post,n=e.isFallback,r=e.origin,a=e.children,s=e.className,u=void 0===s?{}:s,d=e.navigationProps,m=e.engagementProps,p=e.shouldOnboardAuthor,f=e.isPostPage,v=(null!=t?t:{}).id,h=m.onCopyPostLink;return v||n?je(i.Fragment,null,f?je(qe.G,{className:l()(u.header,"-mx-4")},je(De.W,{post:t,className:"ml-auto",contextMenuId:"post-page-header-actions",onReadArticle:d.onReadArticle})):je(c.Z,(0,o.Z)({},d,{className:u.navigation})),a,je(Fe,{post:t,onCopyLinkClick:h,analyticsOrigin:r,shouldOnboardAuthor:p})):je(Me,null)}},22454:(e,t,n)=>{n.d(t,{Dg:()=>ue,C2:()=>de,QY:()=>ce});var o,r=n(51911),a=n(28076),i=n(83849),s=n.n(i),l=n(29901),c=n(52210),u=n(81618),d=n(92828),m=n(73084),p=n(43643),f=n(75733),v=n(24283),h=n(36863),b=n(38783),g=n(99269),x=n(29097),y=n(12951),k=n(73442),N=n(37280),w=n(74872),P=n(38409),C=n(10220),S=n(60656),Z=n(6189),E=n(86825),O=n(81253),L=n(31952),z=n(32575),I=n(37663),R=l.createElement,A=function(e){var t=e.className,n=e.isFetching,o=e.variant,r=e.onClick;return R(Z.zx,{className:t,variant:o,disabled:n,onClick:r,size:E.qE.Small},"Subscribe")},T=function(e){var t=e.className,n=e.isFetching,o=e.onClick;return R(L.i,{forceLoad:!z.jp,content:"Unsubscribe"},R(Z.zx,{className:t,size:E.qE.Small,variant:E.Wu.Tertiary,icon:R(O._,null),disabled:n,onClick:o}))},F=function(e){var t=e.className,n=e.source,o=e.variant,r=void 0===o?E.Wu.Primary:o,a=(0,v.Eu)().isLoggedIn,i=(0,I.M)({source:n}),s=i.isSubscribed,l=i.onSubscribe,c=i.isReady;return R(s?T:A,{className:t,isFetching:a&&!c,onClick:l,variant:r})},q=n(1791),D=n(22294),j=n(16309),M=l.createElement;!function(e){e.Source="source",e.Author="author",e.Featured="featured",e.Scout="scout"}(o||(o={}));var W=(0,g.Z)(m.w,"w-10 h-10"),B=function(e){var t=e.userType,n=e.name,r=e.permalink,a=e.image;if(t===o.Source)return M(N.t,{href:r,passHref:!0,prefetch:!1,tooltip:{placement:"bottom",content:n}},M(W,{className:"cursor-pointer rounded-full",imgSrc:a,imgAlt:n,background:"var(--theme-background-subtle)"}));var i=e;return M(w.x,{href:i.permalink,"data-testid":"authorLink"},M(W,{className:"rounded-12",imgSrc:a,imgAlt:n,background:"var(--theme-background-subtle)"}))},U=function(e){var t=e.id,n=e.handle,r=e.name,a=e.username,i=e.permalink,c=e.userType,u=void 0===c?o.Source:c,d=e.reputation,m=function(e){return e===o.Source?null:e===o.Author?y.Y:k.G}(u),p=u===o.Source,f=(0,q.ZP)().feedSettings,v=(0,l.useMemo)((function(){var e;return!!p&&!(null==f||null===(e=f.excludeSources)||void 0===e||!e.some((function(e){return e.id===t})))}),[p,null==f?void 0:f.excludeSources,t]);return M("div",{className:"relative flex flex-row items-center p-3"},M(C.Z,{condition:!p,wrapper:function(e){return M(P.R,{user:{id:t}},e)}},M(w.x,{href:i},M(B,e))),m&&M(m,{secondary:!0,className:s()("absolute left-10 top-10 h-5 w-5",u===o.Author?"text-accent-cheese-default":"text-accent-bun-default")}),M(C.Z,{condition:!p,wrapper:function(e){return M(P.R,{user:{id:t}},e)}},M("div",{className:"ml-4 flex min-w-0 flex-1 flex-col"},p&&M(w.x,{className:s()("!block truncate font-bold typo-callout"),href:i},r),!p&&M("div",{className:"flex"},M(w.x,{className:"font-bold typo-callout",href:i},r),M(S.a,{user:{reputation:d}})),(n||a||t)&&M(w.x,{className:"mt-0.5 !block truncate text-text-tertiary typo-footnote",href:i},"@",n||a||t))),!v&&p&&M(F,{className:"ml-2",variant:E.Wu.Secondary,source:{id:t}}))},_=function(e){var t=e.source;return(0,I.M)({source:t}).isSubscribed?M(D.Z,{source:j.Yq.SourceSubscribe,contentName:t.name}):null};function Q(e){var t=e.post,n=t.author,a=t.scout,i=t.source;return M(x.Hl,{className:"flex flex-col"},M(U,(0,r.Z)({},i,{userType:o.Source})),M(_,{source:i}),n&&M(U,(0,r.Z)({},n,{userType:o.Author})),a&&M(U,(0,r.Z)({},a,{userType:o.Scout})))}var Y=n(32232),$=l.createElement;function H(e){var t=e.onCopyPostLink,n=e.onReadArticle,o=e.post,r=e.className,a=e.onClose,i=e.origin,s=(0,l.useContext)(v.ZP).tokenRefreshed;return $(p.ry,{className:r},$(Y.W,{onReadArticle:n,post:o,onClose:a,className:"hidden pt-6 laptop:flex",contextMenuId:"post-widgets-context"}),$(Q,{post:o}),$(h.Z,{post:o}),$(f.I,{post:o,origin:i,link:o.commentsPermalink,onCopyPostLink:t}),s&&$(b.Z,{currentPost:o}))}var V=n(51577),K=n(36671),G=n(75160),J=n(85301),X=n(76309),ee=n(45952),te=n(56567),ne=n(81383),oe=n(82504),re=n(31976),ae=n(51185),ie=l.createElement;function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=80,ue=120;function de(e){var t,n,o,a=e.post,i=e.className,p=void 0===i?{}:i,f=e.shouldOnboardAuthor,h=e.origin,b=e.position,g=e.inlineActions,x=e.onPreviousPost,y=e.onNextPost,k=e.onClose,N=e.postPosition,w=e.isFallback,P=e.customNavigation,C=e.onRemovePost,S=e.backToSquad,Z=e.isBannerVisible,E=e.isPostPage,O=(0,v.Eu)().user,L=(0,G.sW)().subject,z=(0,X.Z)({origin:h,post:a}),I=z.onCopyPostLink,R=z.onReadArticle,A=(0,ae.E)(a),T=!!x||!!y,F=(0,c.AD)(a),q=s()("laptop:flex-row laptop:pb-0",null==p?void 0:p.container),D={postPosition:N,onPreviousPost:x,onNextPost:y,post:a,onReadArticle:R,onClose:k,inlineActions:g,onRemovePost:C};return(0,l.useEffect)((function(){F&&null!=a&&a.id&&null!=O&&O.id&&A(a.id)}),[F,A,a.id,null==O?void 0:O.id]),ie(J.Z,{hasNavigation:T,className:q,"aria-live":L===G._R.PostContent?"polite":"off",navigationProps:"fixed"===b?le(le({},D),{},{isBannerVisible:Z,className:null==p?void 0:p.fixedNavigation}):null},ie(oe.b,{className:s()("relative",null==p?void 0:p.content),"data-testid":"postContainer"},ie(ee.F,{className:le(le({},p),{},{onboarding:s()(null==p?void 0:p.onboarding,S&&"mb-6"),navigation:{actions:null==p||null===(t=p.navigation)||void 0===t?void 0:t.actions,container:s()("pt-6",null==p||null===(n=p.navigation)||void 0===n?void 0:n.container)}}),isPostPage:E,isFallback:w,customNavigation:P,shouldOnboardAuthor:f,navigationProps:D,engagementProps:z,origin:h,post:a},ie("h1",{className:"my-6 break-words font-bold typo-large-title","data-testid":"post-modal-title"},ie("a",(0,r.Z)({href:a.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,ne.K)(R)),a.title)),F&&ie(re.Z,{title:a.title,videoId:a.videoId,className:"mb-7"}),a.summary&&ie(d.Z,{className:"mb-6",summary:a.summary}),ie(V.R,{tags:a.tags||[]}),ie(u.Z,{createdAt:a.createdAt,readTime:a.readTime,isVideoType:F,className:s()("mt-4 !typo-callout",F?"mb-4":"mb-8")}),!F&&ie("a",(0,r.Z)({href:a.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,ne.K)(R),{className:"mb-10 block cursor-pointer overflow-hidden rounded-16",style:{maxWidth:"25.625rem"}}),ie(m.w,{imgSrc:a.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:te.n.post.imageCoverPlaceholder})),(null===(o=a.toc)||void 0===o?void 0:o.length)>0&&ie(K.Z,{post:a,collapsible:!0,className:"mb-4 mt-2 flex laptop:hidden"}))),ie(H,{onReadArticle:R,post:a,className:"pb-8",onClose:k,origin:h,onCopyPostLink:I}))}},85301:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(29901),r=n(99269),a=n(51911),i=n(53767),s=n(83849),l=n.n(s),c=n(62027),u=["onPreviousPost","onNextPost","postPosition","post","className","isBannerVisible"],d=o.createElement;const m=function(e){var t=e.onPreviousPost,n=e.onNextPost,o=e.postPosition,r=e.post,s=e.className,m=void 0===s?{}:s,p=e.isBannerVisible,f=(0,i.Z)(e,u),v="Published on ".concat(null==r?void 0:r.source.name),h=null!=r&&r.author?"".concat(v," by ").concat(null==r?void 0:r.author.name):v,b={title:null==r?void 0:r.title,subtitle:h},g=!!t||!!n;return d(c.Z,(0,a.Z)({},f,{inlineActions:!0,isFixedNavigation:!0,post:r,contextMenuId:"fixed-post-navigation-context",className:{container:l()("fixed z-postNavigation ml-0 w-full border border-border-subtlest-tertiary bg-background-subtle px-6 py-4","max-w-full laptop:left-[unset]",p?"top-14":"top-0",null==m?void 0:m.container),actions:null==m?void 0:m.actions},onPreviousPost:t,onNextPost:n,postPosition:o}),d("div",{className:l()("ml-2 flex-1 flex-col overflow-hidden",g&&"hidden laptop:flex")},d("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-text-tertiary typo-footnote"},b.subtitle),d("h3",{className:"overflow-hidden text-ellipsis whitespace-nowrap font-bold typo-body"},b.title)))};var p=n(10220),f=n(96628),v=o.createElement,h=(0,r.Z)("div","flex flex-col w-full pb-6 bg-background-default"),b=(0,r.Z)(h,"m-auto w-full laptop:border-x laptop:border-border-subtlest-tertiary");const g=function(e){var t=e.hasNavigation,n=e.className,r=e.children,a=e.navigationProps,i=e.isNavigationOutside,s=!(0,f.V)(f.d.MobileL)&&a,l=t?h:b;return v(p.Z,{condition:i,wrapper:function(e){return v(o.Fragment,null,s&&v(m,s),e)}},v(l,{className:n},s&&!i&&v(m,s),r))}},32232:(e,t,n)=>{n.d(t,{W:()=>w});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),s=n.n(i),l=n(71830),c=n(52210),u=n(99269),d=n(31952),m=n(86825),p=n(6189),f=n(64341),v=n(22589),h=n(16309),b=n(90958),g=n(96628),x=["onReadArticle","post","onClose","inlineActions","className","notificationClassName","contextMenuId","onRemovePost","isFixedNavigation"],y=a.createElement,k=(0,u.Z)("div","flex flex-row items-center"),N=function(e){return e.inlineActions?m.Wu.Tertiary:m.Wu.Primary};function w(e){var t=e.onReadArticle,n=e.post,i=e.onClose,u=e.inlineActions,w=e.className,P=(e.notificationClassName,e.contextMenuId),C=e.onRemovePost,S=e.isFixedNavigation,Z=(0,r.Z)(e,x),E=(0,a.useContext)(f.ZP).openNewTab,O=(0,g.V)(g.d.Laptop),L=(0,c.a1)(n),z=(null==n?void 0:n.type)===c.hQ.Collection,I=S||O;return y(k,(0,o.Z)({},Z,{className:s()("gap-2",w)}),!(0,c.EN)(n)&&!!t&&y((function(){var e,o;return y(d.i,{placement:"bottom",content:L,disabled:!u},y(p.zx,{variant:I?N({inlineActions:u}):m.Wu.Float,tag:"a",href:null!==(e=null===(o=n.sharedPost)||void 0===o?void 0:o.permalink)&&void 0!==e?e:n.permalink,target:E?"_blank":"_self",icon:y(l.h,null),onClick:t,"data-testid":"postActionsRead",size:I?m.qE.Medium:m.qE.Small},u?null:L))}),null),z&&y(b.E,{post:n,isCondensed:!0}),y(v.b,{post:n,onClose:i,inlineActions:u,contextMenuId:P,onRemovePost:C,origin:h.aP.ArticleModal,isEnlarged:I}))}},22589:(e,t,n)=>{n.d(t,{b:()=>x});var o=n(93309),r=n(62699),a=n.n(r),i=n(29901),s=n(58764),l=n(38429),c=n(6188),u=n(24283),d=n(52210),m=n(31952),p=n(75236),f=n(23511),v=n(23659),h=n(6189),b=n(86825),g=i.createElement;function x(e){var t,n=e.post,r=e.onClose,x=e.inlineActions,y=e.contextMenuId,k=e.onRemovePost,N=e.origin,w=e.isEnlarged,P=(0,i.useContext)(u.ZP).user,C=(0,f.G)().showPrompt,S=(0,v.Z)({id:y}),Z=S.onMenuClick,E=S.onHide,O=null==P||null===(t=P.roles)||void 0===t?void 0:t.includes(c.G7.Moderator),L=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Ban post ðŸ’©",description:"Are you sure you want to ban this post?",okButton:{title:"Ban",className:"btn-primary-ketchup"}},e.next=3,C(t);case 3:if(!e.sent){e.next=6;break}return e.next=6,(0,d.uq)(n.id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,o.Z)(a().mark((function e(){var t,o,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(t=n.flags)||void 0===t?void 0:t.promoteToPublic,r={title:o?"Demote post":"Promote post",description:"Do you want to ".concat(o?"demote":"promote"," this post ").concat(o?"from":"to"," the public?"),okButton:{title:o?"Demote":"Promote"}},e.next=4,C(r);case 4:if(!e.sent){e.next=12;break}if(!o){e.next=10;break}return e.next=8,(0,d.qI)(n.id);case 8:e.next=12;break;case 10:return e.next=12,(0,d.B_)(n.id);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g(i.Fragment,null,g(m.i,{placement:"bottom",content:"Options"},g(h.zx,{className:!x&&"ml-auto",icon:g(s.O,null),onClick:Z,size:w?b.qE.Medium:b.qE.Small,variant:w?b.Wu.Tertiary:b.Wu.Float})),r&&g(m.i,{placement:"bottom",content:"Close"},g(h.zx,{variant:b.Wu.Tertiary,icon:g(l.q,null),onClick:function(e){return r(e)}})),g(p.Z,{post:n,onRemovePost:k,setShowBanPost:O?function(){return L()}:null,setShowPromotePost:O?function(){return z()}:null,contextId:y,origin:N,onHidden:E}))}},62027:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),s=n.n(i),l=n(6189),c=n(86825),u=n(31952),d=n(75943),m=n(32232),p=n(51928),f=["postPosition","onPreviousPost","onNextPost","className","children","contextMenuId"],v=a.createElement;const h=function(e){var t=e.postPosition,n=e.onPreviousPost,a=e.onNextPost,i=e.className,h=void 0===i?{}:i,b=e.children,g=e.contextMenuId,x=void 0===g?"post-navigation-context":g,y=(0,r.Z)(e,f);return v("div",{className:s()("flex flex-row items-center gap-2",null==h?void 0:h.container),role:"navigation"},n&&v(u.i,{content:"Previous"},v(l.zx,{className:"-rotate-90",icon:v(d.e0,null),variant:c.Wu.Tertiary,onClick:n,disabled:[p.t.First,p.t.Only].includes(t)})),a&&v(u.i,{content:"Next"},v(l.zx,{className:"rotate-90",icon:v(d.e0,null),variant:c.Wu.Tertiary,onClick:a,disabled:[p.t.Last,p.t.Only].includes(t)})),b,v(m.W,(0,o.Z)({},y,{className:s()("flex",null==h?void 0:h.actions),notificationClassName:"ml-4",contextMenuId:x})))}},92059:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(29901),r=n(83849),a=n.n(r),i=n(38409),s=n(77144),l=n(19796),c=n(45462),u=n(86960),d=n(60656),m=n(43643),p=n(34951),f=n(73503),v=n(22057),h=o.createElement,b=function(e){var t=e.size,n=e.className;return h("span",{className:a()("flex flex-row items-center",null==n?void 0:n.container)},h(v.f,{className:(0,s.o7)(t)}),h("div",{className:"ml-4 flex flex-1 flex-col gap-1"},h(v.f,{className:"h-6 w-20 rounded-10"}),h(v.f,{className:"h-6 w-28 rounded-10"})))};const g=function(e){var t=e.className,n=e.author,o=e.role,r=e.size,v=void 0===r?"xxxlarge":r,g=e.date;return n?h("span",{className:a()("flex flex-row items-center",null==t?void 0:t.container)},h(i.R,{user:n,link:{href:n.permalink}},h(s.YY,{user:n,size:v,nativeLazyLoading:!0})),h(i.R,{user:n,link:{href:n.permalink}},h("a",{href:n.permalink,className:a()("ml-4 flex flex-1 flex-col overflow-hidden",null==t?void 0:t.details)},h("div",{className:"flex w-full"},h(m.Ys,{className:a()("font-bold",null==t?void 0:t.name),title:n.name},n.name),h("div",{className:"flex gap-1"},h(d.a,{user:n}),!!o&&h(l.Z,{key:"squadMemberRole",role:c.Pt.Admin,removeMargins:!0}))),h("div",{className:a()("flex text-text-tertiary",null==t?void 0:t.handle)},h(m.Ys,{title:"@".concat(n.username)},"@",n.username),!!g&&h(u.Z0,null),!!g&&h(p.t,{date:g,type:f.lf.Post}))))):h(b,{className:t,size:v})}},90958:(e,t,n)=>{n.d(t,{E:()=>C});var o,r=n(29901),a=n(19448),i=n(73283),s=n(42819),l=n(51911),c=n(4714);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}const d=function(e){return r.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("path",{d:"M17.889 9.377c.252.61.414 1.27.467 1.961l.015.264.004.21v2.226l.072.022c.803.28 1.405.988 1.53 1.852l.018.175.005.158c0 1.224-.95 2.226-2.154 2.307l-.159.006-2.046-.001-.013.033a3.94 3.94 0 01-3.216 2.384l-.21.016-.202.005a3.925 3.925 0 01-3.523-2.192l1.157-1.158a2.439 2.439 0 002.205 1.845l.161.005.16-.005a2.438 2.438 0 002.272-2.265l.005-.168h3.25l.102-.006a.813.813 0 000-1.612l-.196-.012a.813.813 0 01-.712-.704l-.006-.103v-2.807l-.003-.183a4.871 4.871 0 00-.16-1.074l1.177-1.179zm2.64-5.83a.75.75 0 01.002 1.06l-16 16.026a.75.75 0 01-1.062-1.06l16-16.025a.75.75 0 011.06-.001zM12 3a2.312 2.312 0 012.25 2.847c.192.072.379.153.561.243l-1.14 1.142a4.837 4.837 0 00-.26-.087l-.143-.041a4.881 4.881 0 00-2.53-.001l-.148.042a4.876 4.876 0 00-3.46 4.441l-.005.226v1.976l-3.047 3.053a2.301 2.301 0 01-.057-.282l-.016-.156L4 16.245c0-.903.52-1.693 1.325-2.076l.165-.071.135-.048v-2.238A6.377 6.377 0 019.75 5.846 2.312 2.312 0 0112 3zm0 1.5a.812.812 0 10.788 1.013l.018-.099.007-.101A.812.812 0 0012 4.5z",fill:"currentcolor",fillRule:"evenodd"})))};var m;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}const f=function(e){return r.createElement("svg",p({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),m||(m=r.createElement("path",{d:"M17.486 9.741c.211.57.336 1.18.36 1.818l.004.219v3.37l.008.123c.055.443.409.794.853.846l.236.014a.975.975 0 010 1.935l-.122.008h-3.9l-.007.2a2.926 2.926 0 01-2.726 2.72L12 21l-.193-.006a2.926 2.926 0 01-2.727-2.748l-.002-.051 8.408-8.454zm3.089-6.297a.75.75 0 01.003 1.06L4.532 20.64a.75.75 0 11-1.064-1.058L19.514 3.446a.75.75 0 011.061-.002zM12 5.926c.526 0 1.036.07 1.521.2l.172.049c.248.075.49.166.723.272L6.15 14.758v-2.98l.006-.272a5.853 5.853 0 014.152-5.33l.177-.052c.483-.13.991-.198 1.515-.198zM12 3c.538 0 .975.437.975.975l-.008.123-.022.117A.975.975 0 1112 3z",fill:"currentcolor",fillRule:"evenodd"})))};var v=r.createElement,h=function(e){return v(c.ZP,(0,l.Z)({},e,{IconPrimary:d,IconSecondary:f}))},b=n(83612),g=n(6189),x=n(86825),y=n(68071),k=n(24283),N=r.createElement,w=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return N(g.zx,{variant:t?x.Wu.Secondary:x.Wu.Primary,icon:N(t?h:b.Dk,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},P=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return N(g.zx,{variant:x.Wu.Float,size:x.qE.Small,icon:N(t?h:b.Dk,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},C=function(e){var t=e.post,n=e.isCondensed,o=(0,k.Eu)(),r=o.isLoggedIn,l=o.showLogin,c=(0,a.H)({params:null!=t&&t.id?[{notificationType:i.k$.CollectionUpdated,referenceId:t.id}]:void 0}),u=c.preferences,d=c.subscribeNotification,m=c.clearNotificationPreference,p=c.isFetching,f=!(null==u||!u.some((function(e){return(0,a.$)(e,i.k$.CollectionUpdated,null==t?void 0:t.id,[s.QP.Subscribed])})));return N(n?P:w,{isSubscribed:f,isFetching:p,onClick:function(){if(r){var e={type:i.k$.CollectionUpdated,referenceId:t.id};f?m(e):d(e)}else l({trigger:y.IP.CollectionSubscribe})}})}},82504:(e,t,n)=>{n.d(t,{b:()=>o});var o=(0,n(99269).Z)("main","flex flex-col flex-1 px-4 laptop:px-8 laptop:border-r laptop:border-border-subtlest-tertiary")},35075:(e,t,n)=>{n.d(t,{J:()=>d});var o=n(70468),r=n(29901),a=n(6189),i=n(86825),s=n(33973),l=n(5111),c=n(61991),u=r.createElement;function d(e){var t,n,r,d,m=e.link,p=e.text,f=void 0===p?{}:p,v=e.onCopy,h=e.className,b=e.trackingProps,g=(0,l.y)((function(){return m})),x=(0,o.Z)(g,2),y=x[0],k=x[1],N=(0,c.Os)().trackEvent;return u(s.n,{className:h,name:"inviteURL",inputId:"inviteURL",label:"Your unique invite URL",type:"url",autoComplete:"off",value:m,fieldType:"tertiary",actionButton:u(a.zx,{size:i.qE.Small,variant:i.Wu.Primary,onClick:function(){k(),N(b),v&&v()}},(r=null!==(t=null==f?void 0:f.initial)&&void 0!==t?t:"Copy link",d=null!==(n=null==f?void 0:f.copied)&&void 0!==n?n:"Copied",y?d:r)),readOnly:!0})}},31976:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(51911),r=n(53767),a=n(29901),i=n(83849),s=n.n(i),l=["videoId","className","title"],c=a.createElement;const u=function(e){var t=e.videoId,n=e.className,a=e.title,i=(0,r.Z)(e,l);return c("div",{className:s()("relative w-full overflow-hidden rounded-16 pt-[56.25%]",n)},c("iframe",(0,o.Z)({title:a,src:"https://www.youtube-nocookie.com/embed/".concat(t),allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute inset-0 aspect-video w-full border-0"},i)))}},38783:(e,t,n)=>{n.d(t,{Z:()=>ye});var o,r,a=n(98935),i=n(93309),s=n(28076),l=n(62699),c=n.n(l),u=n(29901),d=n(83849),m=n.n(d),p=n(91385),f=n.n(p),v=n(48706),h=n(2067),b=n(24283),g=n(66022),x=n(81190),y=(0,p.gql)(o||(o=(0,g.Z)(["\n  fragment FurtherReading on Post {\n    id\n    title\n    permalink\n    commentsPermalink\n    bookmarked @include(if: $loggedIn)\n    image\n    readTime\n    numComments\n    numUpvotes\n    source {\n      ...SourceShortInfo\n    }\n    scout {\n      ...UserShortInfo\n    }\n    author {\n      ...UserShortInfo\n    }\n  }\n  ","\n  ","\n"])),x.JT,x.T),k=(0,p.gql)(r||(r=(0,g.Z)(["\n  query SimilarPosts(\n    $post: ID!\n    $loggedIn: Boolean! = false\n    $trendingFirst: Int\n    $similarFirst: Int\n    $discussedFirst: Int\n    $withDiscussedPosts: Boolean! = false\n    $tags: [String]!\n  ) {\n    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      trending\n      tags\n    }\n    similarPosts: randomSimilarPostsByTags(\n      tags: $tags\n      post: $post\n      first: $similarFirst\n    ) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      tags\n    }\n    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst)\n      @include(if: $withDiscussedPosts) {\n      ...FurtherReading\n    }\n  }\n  ","\n"])),y),N=n(96206),w=n(84376),P=n(52210),C=n(51911),S=n(34260),Z=n.n(S),E=n(69885),O=n(75943),L=n(11982),z=n(73084),I=n(11056),R=n(22057),A=n(99269),T=n(8102),F=n(61991),q=n(31952),D=n(43643),j=n(81383),M=n(6189),W=n(86825),B=n(57767),U=n(86960),_=n(29715),Q=u.createElement;function Y(e){var t=e.upvotes,n=e.comments,o=e.className;return Q("p",{className:m()("truncate typo-footnote",o),"data-testid":"post-engagements-count"},t?"".concat((0,_.r)(t)," Upvotes"):"",t&&n?Q(u.Fragment,null," ",U.o9," "):"",n?"".concat((0,_.r)(n)," Comments"):"")}var $=u.createElement,H=$("div",{className:"h-px bg-border-subtlest-tertiary"}),V="w-7 h-7 rounded-full mt-1",K="flex flex-col ml-3 mr-2 flex-1",G=function(e){var t=e.post,n=e.onLinkClick,o=e.onBookmark;return $("article",{className:m()("group relative flex items-start py-2 pl-4 pr-2 hover:bg-theme-hover",L.Z.card)},$(I.YS,(0,C.Z)({href:t.commentsPermalink,title:t.title},(0,j.K)((function(){return n(t)})))),$(z.w,{imgSrc:t.source.image,imgAlt:t.source.name,className:V}),$("div",{className:K},$("h5",{className:m()("multi-truncate mb-0.5 text-ellipsis break-words text-text-primary typo-callout",L.Z.title)},t.title),t.trending?$("div",{className:"flex items-center text-text-tertiary typo-footnote"},$(D.nJ,null),$("div",{className:"ml-2"},t.trending," devs read it last hour")):$(Y,{upvotes:t.numUpvotes,comments:t.numComments,className:"text-text-tertiary"})),$(q.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},$(M.zx,{variant:W.Wu.Tertiary,color:B.S.Bun,className:"mt-1 group-hover:visible mouse:invisible",pressed:t.bookmarked,size:W.qE.Small,icon:$(E.p,{secondary:t.bookmarked}),onClick:function(){return o(t)}})))},J=(0,A.Z)(R.f,"h-3 rounded-12 my-0.5");function X(e){var t=e.posts,n=e.isLoading,o=e.onBookmark,r=e.className,a=e.title,s=void 0===a?"You might like":a,l=e.moreButtonProps,d=e.ListItem,p=void 0===d?G:d,f=(0,u.useContext)(F.ZP).trackEvent,v=(null==l?void 0:l.href)||"https://app.daily.dev/",h=(null==l?void 0:l.text)||"View all",b=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((0,T.gR)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return $("section",{className:m()("flex flex-col rounded-16 border border-border-subtlest-tertiary",r)},$("h4",{className:"py-3 pl-6 pr-4 text-text-tertiary typo-body"},s),H,n?$(u.Fragment,null,$(p.Placeholder,null),$(p.Placeholder,null),$(p.Placeholder,null)):$(u.Fragment,null,t.map((function(e){return $(p,{key:e.id,post:e,onBookmark:o,onLinkClick:function(){return b(e)}})}))),H,$(Z(),{href:v,passHref:!0},$(M.zx,{variant:W.Wu.Tertiary,className:"my-2 ml-2 self-start",size:W.qE.Small,tag:"a",icon:$(O.e0,{className:"rotate-90"}),iconPosition:W.s6.Right},h)))}G.Placeholder=function(){return $("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},$(R.f,{className:V}),$("div",{className:K},$(J,{style:{width:"80%"}}),$(J,{style:{width:"80%"}}),$(J,{style:{width:"40%"}})))};var ee=n(29097),te=u.createElement,ne=te("div",{className:"h-px bg-border-subtlest-tertiary"}),oe=function(e){var t=e.post,n=e.onLinkClick;return te("article",{className:m()("group relative flex flex-col items-start px-4 py-3 hover:bg-theme-hover",L.Z.card)},te(Z(),{href:t.commentsPermalink,prefetch:!1,passHref:!0},te(I.YS,(0,C.Z)({title:t.title},(0,j.K)((function(){return n(t)}))))),te("h5",{className:m()("multi-truncate mb-2 text-text-primary typo-callout",L.Z.title)},t.title),te("div",{className:"flex items-center text-text-tertiary typo-footnote"},te("div",null,t.numComments," Comments")))},re=(0,A.Z)(R.f,"h-3 rounded-12 my-0.5"),ae=function(){return te("article",{"aria-busy":!0,className:"relative flex flex-col items-start px-4 py-3"},te(re,{style:{width:"80%"}}),te(re,{style:{width:"80%"}}),te(re,{style:{width:"40%"}}))},ie=(0,A.Z)(ee.Hl,"flex flex-col");function se(e){var t,n,o=e.posts,r=e.isLoading,a=e.className,i=(0,u.useContext)(F.ZP).trackEvent,s=function(e){i((0,T.gR)("click",e,{extra:{origin:"best discussions"}}))};return te(ie,{className:a},te("h4",{className:"py-3 pl-6 pr-4 text-text-tertiary typo-body"},"Best discussions"),ne,r?te(u.Fragment,null,te(ae,null),te(ae,null),te(ae,null)):te(u.Fragment,null,null==o?void 0:o.slice(1).map((function(e){return te(oe,{key:e.id,post:e,onLinkClick:s})}))),ne,te(Z(),{href:null!==(t=null==o||null===(n=o[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},te(M.zx,(0,C.Z)({variant:W.Wu.Tertiary,className:"my-2 ml-2 self-start",size:W.qE.Small,tag:"a",icon:te(O.e0,{className:"rotate-90"}),iconPosition:W.s6.Right},(0,j.K)((function(){}))),"I'm feeling lucky")))}var le=n(36671),ce=n(10120),ue=n(64761),de=n(92059),me=u.createElement,pe=function(e){var t=e.post,n=e.onLinkClick,o=e.onBookmark;return me("article",{className:m()("group relative flex items-start px-4 py-2 hover:bg-theme-hover",L.Z.card)},me(I.YS,(0,C.Z)({href:t.commentsPermalink,title:t.title},(0,j.K)((function(){return n(t)})))),me("div",{className:"flex w-full flex-col"},(null==t?void 0:t.author)&&me(de.Z,{className:{name:"text-text-primary typo-callout",handle:"text-text-quaternary typo-callout",details:"flex-1 pr-8"},author:t.author,size:"large",date:t.createdAt}),me("p",{className:"mt-2 line-clamp-3 text-text-primary typo-callout"},t.title)),me(q.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},me(M.zx,{className:"absolute right-3 group-hover:visible mouse:invisible",variant:W.Wu.Tertiary,color:B.S.Bun,pressed:t.bookmarked,size:W.qE.Small,icon:me(E.p,{secondary:t.bookmarked}),onClick:function(){return o(t)}})))};pe.Placeholder=function(){return me("article",{"aria-busy":!0,className:"relative flex flex-col px-4 py-2"},me("div",{className:"mb-2 flex flex-1 flex-row items-center"},me(R.f,{className:"mt-1 h-10 w-10 rounded-14"}),me("div",{className:"ml-3 mr-2 flex flex-1 flex-col"},me(ee.P5,{style:{width:"40%"}}),me(ee.P5,{style:{width:"40%"}}))),me(ee.P5,{style:{width:"80%"}}),me(ee.P5,{style:{width:"80%"}}))};var fe=n(88467),ve=u.createElement;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e,t,n){return e.map((function(e){return e.id===t?be(be({},e),n(e)):e}))},xe=function(e,t,n){return function(){var o=(0,i.Z)(c().mark((function o(r){var a,i;return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=r.id,o.next=3,e.cancelQueries(t);case 3:return i=e.getQueryData(t),e.setQueryData(t,be(be({},i),{},{trendingPosts:ge(i.trendingPosts,a,n),similarPosts:ge(i.similarPosts,a,n)})),o.abrupt("return",(function(){return e.setQueryData(t,i)}));case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()};function ye(e){var t,n,o=e.currentPost,r=e.className,s=(0,ue._N)(o.source),l=o.id,d=o.tags,p=["furtherReading",l],g=(0,u.useContext)(b.ZP),x=g.user,y=g.isLoggedIn,C=(0,v.NL)(),S=(0,h.a)(p,(0,i.Z)(c().mark((function e(){var t,n,r,a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.source,!s){e.next=7;break}return e.next=4,f()(N.B3,ce.zQ,{first:3,loggedIn:y,source:t.id,ranking:"TIME",supportedTypes:[P.hQ.Article,P.hQ.Share,P.hQ.Freeform]});case 4:return i=e.sent,u=(null==i||null===(n=i.page)||void 0===n||null===(r=n.edges)||void 0===r||null===(a=r.map((function(e){return e.node})))||void 0===a?void 0:a.filter((function(e){return e.id!==o.id})))||[],e.abrupt("return",{trendingPosts:[],similarPosts:u,discussedPosts:[]});case 7:return e.abrupt("return",f()(N.B3,k,{loggedIn:!!x,post:l,trendingFirst:1,similarFirst:3,discussedFirst:4,withDiscussedPosts:!0,tags:d}));case 8:case"end":return e.stop()}}),e)}))),be({},fe.t3)),Z=S.data,E=S.isLoading,O=(0,w._v)({onMutate:function(e){var t=e.id;return xe(C,p,(function(e){return{bookmarked:!e.bookmarked}}))({id:t})}}).toggleBookmark;if(!(null!=Z&&Z.similarPosts||E))return ve(u.Fragment,null);var L=null!=Z&&Z.similarPosts?[].concat((0,a.Z)(Z.trendingPosts),(0,a.Z)(Z.similarPosts.slice(0,Math.min(Z.similarPosts.length,3-Z.trendingPosts.length)))):[],z=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O({post:t,origin:"recommendation"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=(null===(t=o.toc)||void 0===t?void 0:t.length)>0;return ve("div",{className:m()(r,"flex flex-col gap-6")},I&&ve(le.Z,{post:o,className:"hidden laptop:flex"}),(E||(null==L?void 0:L.length)>0)&&ve(X,{posts:L,isLoading:E,onBookmark:z,title:s?"More posts from ".concat(o.source.name):void 0,moreButtonProps:{href:s?o.source.permalink:void 0,text:s?"Show more":void 0},ListItem:s?pe:void 0}),(E||(null==Z||null===(n=Z.discussedPosts)||void 0===n?void 0:n.length)>0)&&ve(se,{posts:null==Z?void 0:Z.discussedPosts,isLoading:E}))}},36671:(e,t,n)=>{n.d(t,{Z:()=>Z});var o,r=n(93309),a=n(62699),i=n.n(a),s=n(29901),l=n(83849),c=n.n(l),u=n(51911),d=n(4714);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(this,arguments)}const p=function(e){return s.createElement("svg",m({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=s.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var f;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const h=function(e){return s.createElement("svg",v({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),f||(f=s.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};var b=s.createElement,g=function(e){return b(d.ZP,(0,u.Z)({},e,{IconPrimary:p,IconSecondary:h}))},x=n(43643),y=n(61991),k=n(8102);const N={details:"VcLCIuDU9WFPxvzmyOldTA=="};var w=n(29097),P=s.createElement,C=P("div",{className:"mb-3 h-px bg-border-subtlest-tertiary"}),S=function(e,t){return t.id?"".concat(e.permalink,"?a=").concat(t.id):e.permalink};function Z(e){var t=e.post,n=e.className,o=e.collapsible,a=(0,s.useContext)(y.ZP).trackEvent,l=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((0,k.gR)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=P(s.Fragment,null,t.toc.map((function(e){return P("a",{key:e.text,href:S(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:l,className:"flex-1 truncate px-4 py-2 typo-callout hover:bg-theme-hover"},e.text)}))),d="flex items-center py-3 px-4 typo-body text-text-tertiary border border-border-subtlest-quaternary";return o?P("details",{className:c()("select-none flex-col overflow-hidden rounded-16",N.details,n)},P(x.ER,{className:"hover:bg-theme-hover"},P("div",{className:d},P(g,{className:"mr-2 text-2xl"}),"Table of contents",P(x.vd,null))),C,u):P(w.Hl,{className:c()("flex-col overflow-hidden rounded-16 border border-border-subtlest-quaternary pb-3",n)},P("h4",{className:d},P(g,{className:"mr-2 text-2xl"}),"Table of contents"),C,u)}},29097:(e,t,n)=>{n.d(t,{Gd:()=>l,Hl:()=>i,P5:()=>s,zl:()=>a});var o=n(99269),r=n(22057),a="border border-border-subtlest-tertiary rounded-16",i=(0,o.Z)("div",a),s=(0,o.Z)(r.f,"h-3 rounded-12 my-0.5"),l=(0,o.Z)("div","h-px bg-border-subtlest-tertiary")},51185:(e,t,n)=>{n.d(t,{E:()=>f});var o=n(28076),r=n(93309),a=n(62699),i=n.n(a),s=n(48706),l=n(59266),c=n(52210),u=n(43573),d=n(24283);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t,n=(0,s.NL)(),o=(0,d.Eu)().user,a=(0,u.e0)(u.dt.UserStreak,o),m=(0,u.e0)(u.dt.ReadingStreak30Days,o),f=(0,l.D)(c.ox,{onSuccess:(t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.invalidateQueries(a);case 2:if(e.read||n.setQueryData(a,(function(e){var t=p({},e);return null!=t&&t.lastViewAt&&new Date(t.lastViewAt).getDate()===(new Date).getDate()||(t.max+=1,t.total+=1,t.current+=1),t.lastViewAt=new Date,t})),!n.getQueryData(m)){t.next=7;break}return t.next=7,n.invalidateQueries(m);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})});return f.mutateAsync}},76309:(e,t,n)=>{n.d(t,{Z:()=>x});var o=n(93309),r=n(70468),a=n(62699),i=n.n(a),s=n(29901),l=n(48706),c=n(52210),u=n(61991),d=n(8102),m=n(85390),p=n(41971),f=n(11178),v=n(8161),h=n(59732),b=n(67659),g=n(80084);const x=function(e){var t=e.origin,n=e.post,a=null==n?void 0:n.id,x=(0,l.NL)(),y=(0,u.Os)().trackEvent,k=(0,m.Z)({origin:t}),N=n.commentsPermalink,w=v.A.SharePost,P=(0,h.r)().getShortUrl,C=(0,g._)(),S=(0,r.Z)(C,2)[1],Z=(0,s.useCallback)((function(e){return y((0,d.gR)("share post",n,{extra:{provider:e,origin:t}}))}),[t,n]),E=(0,s.useCallback)((0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(N,w);case 2:t=e.sent,S({link:t}),Z(b.YE.CopyLink);case 5:case"end":return e.stop()}}),e)}))),[w,N,S,P,Z]),O=(0,s.useCallback)((function(){return k({post:(null==n?void 0:n.sharedPost)||n,optional:{parent_id:n.sharedPost&&n.id}})}),[k,n]);(0,p.Z)((function(){return{query:c.uw,variables:{ids:[a]}}}),{next:function(e){e.postsEngaged.id===a&&(0,f.cM)(x,n.id,e.postsEngaged)}});var L=(0,s.useRef)(null);return(0,s.useEffect)((function(){n&&L.current!==n.id&&(L.current=n.id,y((0,d.gR)("".concat(t," view"),n)))}),[n]),{onReadArticle:O,onCopyPostLink:E}}},98308:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(29901),r=n(22454);var a=n(71389).w8;var i=n(12084);const s=function(e){var t,n=e.isDisplayed,s=e.offset,l=void 0===s?0:s;(0,o.useEffect)((function(){var e,t;window.matchMedia&&(window.matchMedia(a.replace("@media ","")).matches||(window.scroll(0,0),null===(e=document.querySelector('[role="dialog"]'))||void 0===e||null===(t=e.scroll)||void 0===t||t.call(e,0,0)))}),[]),t=n,(0,o.useEffect)((function(){var e=document.querySelector("#__next");if(e)return t?e.classList.add("hide-on-modal"):e.classList.remove("hide-on-modal"),function(){e.classList.remove("hide-on-modal")}}),[t]);var c=(0,o.useState)("relative"),u=c[0],d=c[1],m=(0,o.useState)(),p=m[0],f=m[1];(0,i.W)((0,o.useCallback)((function(){return p}),[p]),{onOverOffset:function(){return"fixed"!==u&&d("fixed")},onUnderOffset:function(){return"relative"!==u&&d("relative")},offset:r.QY+l});var v=(0,o.useCallback)((function(){var e,t=document.getElementById("post-modal");if(t){var n=t.parentElement;f(n),null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),d("relative")}}),[]);return{position:u,onLoad:v}}}}]);