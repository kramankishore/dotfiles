"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[502],{28456:(e,t,n)=>{n.r(t),n.d(t,{ReportCommentModal:()=>k,default:()=>C});var r=n(51911),o=n(93309),a=n(53767),u=n(62699),s=n.n(u),i=n(29901),l=n(92606),c=n(59266),p=n(96206),m=n(24283),f=n(68071),d=n(63496),b=n(3853);var v=n(61991),h=n(8102),y=n(16309),x=["onReport","comment","post"],R=i.createElement,g=[{value:"HATEFUL",label:"Hateful or offensive content"},{value:"HARASSMENT",label:"Harassment or bullying"},{value:"SPAM",label:"Spam or scams"},{value:"EXPLICIT",label:"Explicit sexual content"},{value:"MISINFORMATION",label:"False information or misinformation"},{value:"OTHER",label:"Other"}];function k(e){var t=e.onReport,n=e.comment,u=e.post,k=(0,a.Z)(e,x),C=function(){var e=(0,i.useContext)(m.ZP),t=e.user,n=e.showLogin,r=(0,d.Y)().requestMethod,a=(0,c.D)((function(e){return r(p.B3,b.iO,e)})).mutateAsync,u=function(){var e=(0,o.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n({trigger:f.IP.ReportPost}),e.abrupt("return",{successful:!1});case 3:return e.next=5,a(r);case 5:return e.abrupt("return",{successful:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{reportComment:u}}(),w=C.reportComment,E=(0,v.Os)().trackEvent,I=function(){var e=(0,o.Z)(s().mark((function e(r,o,a){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({commentId:n.id,reason:o,note:a});case 2:if(i=e.sent,i.successful){e.next=6;break}return e.abrupt("return");case 6:E((0,h.gR)(y.s6.ReportComment,u,{extra:{commentId:n.id}})),"function"==typeof t&&t(n),k.onRequestClose(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return R(l.y,(0,r.Z)({},k,{isOpen:!0,onReport:I,reasons:g,heading:"Report comment"}))}const C=k},92606:(e,t,n)=>{n.d(t,{y:()=>b});var r=n(51911),o=n(53767),a=n(29901),u=n(68802),s=n(6189),i=n(86825),l=n(97518),c=n(43643),p=n(96628),m=["onReport","reasons","heading","title","footer","disabled"],f=a.createElement,d="OTHER";function b(e){var t=e.onReport,n=e.reasons,b=e.heading,v=e.title,h=e.footer,y=e.disabled,x=(0,o.Z)(e,m),R=(0,a.useState)(null),g=R[0],k=R[1],C=(0,a.useState)(),w=C[0],E=C[1],I=(0,p.V)(p.d.MobileL),O={disabled:!g||g===d&&!w||y,onClick:function(e){return t(e,g,w)}};return f(l.u_,(0,r.Z)({isOpen:!0,kind:l.u_.Kind.FixedCenter},x,{formProps:{form:null,title:b,rightButtonProps:O,className:"w-full",copy:{right:"Submit report"}}}),f(l.u_.Header,{title:b}),f(l.u_.Body,{className:"py-5"},v&&f("p",{className:"mb-6 text-text-tertiary typo-callout"},v),f(u.Y,{name:"report_reason",options:"function"==typeof n?n(g):n,value:g,onChange:k}),f("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),f("textarea",{onInput:function(e){return E(e.currentTarget.value)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-theme-float p-2 typo-body","data-testid":"report_comment"}),I?h:null),f(l.u_.Footer,{justify:h&&!I?c.WD.Between:c.WD.End},I?null:h,f(s.zx,{variant:i.Wu.Primary,disabled:!g||g===d&&!w||y,onClick:function(e){return t(e,g,w)}},"Submit report")))}}}]);