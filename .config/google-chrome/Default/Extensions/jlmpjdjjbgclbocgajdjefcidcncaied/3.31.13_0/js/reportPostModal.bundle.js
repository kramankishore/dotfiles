"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[933],{34494:(e,t,r)=>{r.d(t,{X:()=>p});var n=r(51911),o=r(53767),a=r(29901),l=r(83849),i=r.n(l),s=r(87809),c=r(39638),u=["name","checked","children","className","onToggle","id","disabled"],d=a.createElement,p=(0,a.forwardRef)((function(e,t){var r=e.name,l=e.checked,p=e.children,f=e.className,m=e.onToggle,b=e.id,v=e.disabled,y=(0,o.Z)(e,u),h=(0,a.useState)(l),g=h[0],k=h[1];(0,a.useEffect)((function(){k(l)}),[l]);return d("label",{className:i()("relative z-1 inline-flex cursor-pointer select-none items-center p-1 pr-3 text-text-tertiary typo-footnote",c.Z.label,f,{checked:g,disabled:v}),style:{transition:"color 0.1s linear"},htmlFor:b},d("input",(0,n.Z)({},y,{disabled:v,id:b,type:"checkbox",className:"absolute h-0 w-0 opacity-0",name:r,checked:l,onChange:function(e){k(e.target.checked),null==m||m(e.target.checked)},ref:t})),d("div",{className:i()("relative z-1 mr-3 flex h-5 w-5 items-center justify-center rounded-6 border-2 border-border-subtlest-primary",c.Z.checkmark)},d(s.t,{className:"icon h-full w-full text-text-primary opacity-0",style:{transition:"opacity 0.1s linear"}})),p)}))},92606:(e,t,r)=>{r.d(t,{y:()=>b});var n=r(51911),o=r(53767),a=r(29901),l=r(68802),i=r(6189),s=r(86825),c=r(97518),u=r(43643),d=r(96628),p=["onReport","reasons","heading","title","footer","disabled"],f=a.createElement,m="OTHER";function b(e){var t=e.onReport,r=e.reasons,b=e.heading,v=e.title,y=e.footer,h=e.disabled,g=(0,o.Z)(e,p),k=(0,a.useState)(null),x=k[0],O=k[1],R=(0,a.useState)(),w=R[0],E=R[1],N=(0,d.V)(d.d.MobileL),S={disabled:!x||x===m&&!w||h,onClick:function(e){return t(e,x,w)}};return f(c.u_,(0,n.Z)({isOpen:!0,kind:c.u_.Kind.FixedCenter},g,{formProps:{form:null,title:b,rightButtonProps:S,className:"w-full",copy:{right:"Submit report"}}}),f(c.u_.Header,{title:b}),f(c.u_.Body,{className:"py-5"},v&&f("p",{className:"mb-6 text-text-tertiary typo-callout"},v),f(l.Y,{name:"report_reason",options:"function"==typeof r?r(x):r,value:x,onChange:O}),f("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),f("textarea",{onInput:function(e){return E(e.currentTarget.value)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-theme-float p-2 typo-body","data-testid":"report_comment"}),N?y:null),f(c.u_.Footer,{justify:y&&!N?u.WD.Between:u.WD.End},N?null:y,f(i.zx,{variant:s.Wu.Primary,disabled:!x||x===m&&!w||h,onClick:function(e){return t(e,x,w)}},"Submit report")))}},78007:(e,t,r)=>{r.r(t),r.d(t,{ReportPostModal:()=>E,default:()=>N});var n=r(51911),o=r(93309),a=r(28076),l=r(53767),i=r(98935),s=r(62699),c=r.n(s),u=r(29901),d=r(34494),p=r(6189),f=r(86825),m=r(43643),b=r(4812),v=r(8102),y=r(61991),h=r(92606),g=["index","post","origin","onReported"],k=u.createElement;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=[{value:"IRRELEVANT",label:"The post is not about..."},{value:"BROKEN",label:"Broken link"},{value:"CLICKBAIT",label:"Clickbait"},{value:"LOW",label:"Low-quality content"},{value:"NSFW",label:"NSFW"},{value:"OTHER",label:"Other"}],w={IRRELEVANT:function(e){var t,r=e.post,n=e.selectedTags,o=e.setSelectedTags;return k(m.gq,{className:"my-4 flex-wrap gap-2"},null===(t=r.tags)||void 0===t?void 0:t.map((function(e){var t=n.includes(e);return k(p.zx,{key:e,variant:t?f.Wu.Primary:f.Wu.Float,size:f.qE.Small,onClick:function(){o(t?n.filter((function(t){return t!==e})):[].concat((0,i.Z)(n),[e]))}},"#",e)})))}};function E(e){var t,r=e.index,a=e.post,i=e.origin,s=e.onReported,p=(0,l.Z)(e,g),f=(0,y.Os)().trackEvent,m=(0,u.useRef)(),x=(0,u.useState)((function(){return[]})),E=x[0],N=x[1],S=(0,u.useCallback)((function(e){return R.filter((function(e){var t;return("IRRELEVANT"!==e.value||0!==(null==a||null===(t=a.tags)||void 0===t?void 0:t.length))&&e})).map((function(t){var r=t.value===e&&w[t.value];return r?O(O({},t),{},{afterElement:k(r,{post:a,selectedTags:E,setSelectedTags:N})}):t}))}),[a,E]),C=(0,b.Z)().reportPost,P=function(){var e=(0,o.Z)(c().mark((function e(t,n,o){var l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({id:a.id,reason:n,comment:o,tags:E});case 2:if(l=e.sent,l.successful){e.next=6;break}return e.abrupt("return");case 6:f((0,v.gR)("report post",a,{extra:{origin:i}})),"function"==typeof s&&s(a,{index:r,shouldBlockSource:null===(u=m.current)||void 0===u?void 0:u.checked}),p.onRequestClose(t);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return k(h.y,(0,n.Z)({},p,{isOpen:!0,onReport:P,reasons:S,heading:"Report post",title:'"'.concat(null==a?void 0:a.title,'"'),footer:k(d.X,{ref:m,name:"blockSource",className:"font-normal"},"Don't show posts from ",null==a||null===(t=a.source)||void 0===t?void 0:t.name)}))}const N=E},39638:(e,t,r)=>{r.d(t,{Z:()=>n});const n={checkmark:"Ur6sCRLeLJ0xiAl0Ry8kcA==",label:"_0ta8J6BOiKQx6kRDDsqEHg=="}}}]);